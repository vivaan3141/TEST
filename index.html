<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Troop Gear Inventory</title>
    <style>
        :root {
            --twh-blue: #337ab7;
            --twh-header-bg: #fcf8e3;
            --twh-border: #ddd;
            --danger-red: #d9534f;
        }

        body { font-family: "Helvetica Neue", Helvetica, Arial, sans-serif; background: white; padding: 20px; }
        
        /* Tab Styling from your screenshot */
        .tabs { display: flex; margin-bottom: -1px; }
        .tab { 
            padding: 10px 20px; border: 1px solid var(--twh-border); 
            background: var(--twh-header-bg); border-radius: 4px 4px 0 0; cursor: pointer;
        }
        .tab.active { background: white; border-bottom: 1px solid white; font-weight: bold; }

        /* Buttons from your screenshot */
        .btn-row { background: #f9f9f9; border: 1px solid var(--twh-border); padding: 10px; margin-bottom: 20px; }
        button { 
            padding: 5px 12px; border-radius: 4px; border: 1px solid #2e6da4;
            background: var(--twh-blue); color: white; cursor: pointer; font-size: 14px;
        }
        .btn-delete { background: var(--danger-red); border-color: #d43f3a; }

        /* The Main Table */
        table { width: 100%; border-collapse: collapse; margin-top: 10px; font-size: 13px; }
        th { background: var(--twh-header-bg); border: 1px solid var(--twh-border); color: #8a6d3b; padding: 8px; text-align: left; }
        td { border: 1px solid var(--twh-border); padding: 8px; vertical-align: middle; }
        tr:nth-child(even) { background-color: #f9f9f9; }

        /* Status Colors */
        .status-in { color: green; font-weight: bold; }
        .status-out { color: var(--danger-red); font-weight: bold; }

        /* Modal (More Info Popup) */
        .modal { display: none; position: fixed; z-index: 1; left: 0; top: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); }
        .modal-content { background: white; margin: 10% auto; padding: 20px; width: 50%; border-radius: 8px; }
        .close { float: right; cursor: pointer; font-size: 24px; }
    </style>
</head>
<body>

    <div class="tabs">
        <div class="tab active">Inventory List</div>
        <div class="tab">Maintenance Log</div>
    </div>

    <div class="btn-row">
        <button onclick="addItem()">Add Gear Item</button>
    </div>

    <table>
        <thead>
            <tr>
                <th>Update</th>
                <th>Status</th>
                <th>Gear Item</th>
                <th>Currently With</th>
                <th>Current Event</th>
                <th>More Info</th>
                <th>Delete</th>
            </tr>
        </thead>
        <tbody id="gear-body">
            </tbody>
    </table>

    <div id="infoModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal()">&times;</span>
            <h2 id="modalTitle">Gear History</h2>
            <div id="modalBody"></div>
        </div>
    </div>

    <script>
        let gearList = [
            { id: 1, name: "Patrol Cook Kit", status: "In", user: "-", event: "-", history: ["Purchased 2024"] },
            { id: 2, name: "Eureka Tent #4", status: "Out", user: "Eagle Scout Joe", event: "Winter Camporee", history: ["Last used: Oct 2025 by Patrol A", "Zipper repaired Nov 2025"] }
        ];

        function render() {
            const body = document.getElementById('gear-body');
            body.innerHTML = "";
            gearList.forEach(item => {
                const row = `
                    <tr>
                        <td><button style="background:#5bc0de; border:none;" onclick="toggleIO(${item.id})">Update</button></td>
                        <td class="${item.status === 'In' ? 'status-in' : 'status-out'}">${item.status}</td>
                        <td><strong>${item.name}</strong></td>
                        <td>${item.user}</td>
                        <td>${item.event}</td>
                        <td><button style="background:#f0ad4e; border:none;" onclick="showInfo(${item.id})">More Info</button></td>
                        <td><button class="btn-delete" onclick="deleteItem(${item.id})">Delete</button></td>
                    </tr>
                `;
                body.innerHTML += row;
            });
        }

        function toggleIO(id) {
            const item = gearList.find(g => g.id === id);
            if (item.status === "In") {
                const who = prompt("Who is taking it?");
                const where = prompt("For which event?");
                if (who && where) {
                    item.status = "Out";
                    item.user = who;
                    item.event = where;
                    item.history.push(`Checked out by ${who} for ${where} on ${new Date().toLocaleDateString()}`);
                }
            } else {
                item.status = "In";
                item.user = "-";
                item.event = "-";
                item.history.push(`Returned on ${new Date().toLocaleDateString()}`);
            }
            render();
        }

        function showInfo(id) {
            const item = gearList.find(g => g.id === id);
            document.getElementById('modalTitle').innerText = "History: " + item.name;
            document.getElementById('modalBody').innerHTML = "<ul>" + item.history.map(h => `<li>${h}</li>`).join('') + "</ul>";
            document.getElementById('infoModal').style.display = "block";
        }

        function closeModal() { document.getElementById('infoModal').style.display = "none"; }

        function addItem() {
            const n = prompt("Item Name:");
            if(n) {
                gearList.push({ id: Date.now(), name: n, status: "In", user: "-", event: "-", history: ["Added to catalog"] });
                render();
            }
        }

        function deleteItem(id) {
            if(confirm("Delete this item?")) {
                gearList = gearList.filter(g => g.id !== id);
                render();
            }
        }

        render();
    </script>
</body>
</html>
